import "./GridSystem.css"
import { animate, svg, utils } from 'animejs'
import { useState, useEffect, useRef } from "react"
import Icon from "./Icon"

function GridSystem() {

    const [clicked, setClicked] = useState(false)
    const [points1, setPoints1] = useState("152,0 152.171,3.028571367263794 152.343,6.057142734527588 152.514,9.085713386535645 152.686,12.114285469055176 152.857,15.142857551574707 153.029,18.17142677307129 153.2,21.200000762939453 153.371,24.22857093811035 153.543,27.25714111328125 153.714,30.285715103149414 153.886,33.31428527832031 154.057,36.34285354614258 154.229,39.371429443359375 154.4,42.400001525878906 154.571,45.42857360839844 154.743,48.4571418762207 154.914,51.485713958740234 156.514,53.08571243286133 159.543,53.25714111328125 162.571,53.42856979370117 165.6,53.599998474121094 168.629,53.771427154541016 171.657,53.94285583496094 174.686,54.11428451538086 177.714,54.28571319580078 180.743,54.4571418762207 183.771,54.628570556640625 186.8,54.79999923706055 189.829,54.97142791748047 192.857,55.14285659790039 195.886,55.31428527832031 198.914,55.485713958740234 201.943,55.657142639160156 204.971,55.82857131958008 208,56 204.971,56.17142868041992 201.943,56.342857360839844 198.914,56.514286041259766 195.886,56.68571472167969 192.857,56.85714340209961 189.829,57.02857208251953 186.8,57.20000076293945 183.771,57.371429443359375 180.743,57.5428581237793 177.714,57.71428680419922 174.686,57.88571548461914 171.657,58.05714416503906 168.629,58.228572845458984 165.6,58.400001525878906 162.571,58.57143020629883 159.543,58.74285888671875 156.514,58.914283752441406 154.914,60.514286041259766 154.743,63.54285430908203 154.571,66.57141876220703 154.4,69.60000610351562 154.229,72.62857818603516 154.057,75.65714263916016 153.886,78.68571472167969 153.714,81.71427917480469 153.543,84.74285125732422 153.371,87.77143096923828 153.2,90.80000305175781 153.029,93.82856750488281 152.857,96.85713958740234 152.686,99.88571166992188 152.514,102.91427612304688 152.343,105.94286346435547 152.171,108.971435546875 152,112 151.829,108.97142791748047 151.657,105.94286346435547 151.486,102.91427612304688 151.314,99.88571166992188 151.143,96.85713958740234 150.971,93.82857513427734 150.8,90.80000305175781 150.629,87.77143859863281 150.457,84.74285125732422 150.286,81.71427917480469 150.114,78.68571472167969 149.943,75.65715026855469 149.771,72.62857055664062 149.6,69.60000610351562 149.429,66.57144165039062 149.257,63.542869567871094 149.086,60.51429748535156 147.486,58.914283752441406 144.457,58.742855072021484 141.429,58.57142639160156 138.4,58.400001525878906 135.371,58.228572845458984 132.343,58.05714416503906 129.314,57.88571548461914 126.286,57.71428680419922 123.257,57.5428581237793 120.229,57.371429443359375 117.2,57.20000076293945 114.171,57.02857208251953 111.143,56.85714340209961 108.114,56.68571472167969 105.086,56.514286041259766 102.057,56.342857360839844 99.029,56.17142868041992 96,56 99.029,55.82857131958008 102.057,55.657142639160156 105.086,55.485713958740234 108.114,55.31428527832031 111.143,55.14285659790039 114.171,54.97142791748047 117.2,54.79999923706055 120.229,54.628570556640625 123.257,54.4571418762207 126.286,54.28571319580078 129.314,54.11428451538086 132.343,53.94285583496094 135.371,53.771427154541016 138.4,53.599998474121094 141.429,53.42857360839844 144.457,53.257144927978516 147.486,53.085716247558594 149.086,51.48569869995117 149.257,48.457130432128906 149.429,45.42856216430664 149.6,42.399993896484375 149.771,39.37142562866211 149.943,36.342857360839844 150.114,33.31428527832031 150.286,30.28571891784668 150.457,27.25714874267578 150.629,24.228578567504883 150.8,21.20001220703125 150.971,18.171443939208984 151.143,15.142845153808594 151.314,12.114276885986328 151.486,9.085708618164062 151.657,6.057136535644531 151.829,3.0285682678222656 152,0 ")
    const [points2, setPoints2] = useState("152,0 152.171,3.028571367263794 152.343,6.057142734527588 152.514,9.085713386535645 152.686,12.114285469055176 152.857,15.142857551574707 153.029,18.17142677307129 153.2,21.200000762939453 153.371,24.22857093811035 153.543,27.25714111328125 153.714,30.285715103149414 153.886,33.31428527832031 154.057,36.34285354614258 154.229,39.371429443359375 154.4,42.400001525878906 154.571,45.42857360839844 154.743,48.4571418762207 154.914,51.485713958740234 156.514,53.08571243286133 159.543,53.25714111328125 162.571,53.42856979370117 165.6,53.599998474121094 168.629,53.771427154541016 171.657,53.94285583496094 174.686,54.11428451538086 177.714,54.28571319580078 180.743,54.4571418762207 183.771,54.628570556640625 186.8,54.79999923706055 189.829,54.97142791748047 192.857,55.14285659790039 195.886,55.31428527832031 198.914,55.485713958740234 201.943,55.657142639160156 204.971,55.82857131958008 208,56 204.971,56.17142868041992 201.943,56.342857360839844 198.914,56.514286041259766 195.886,56.68571472167969 192.857,56.85714340209961 189.829,57.02857208251953 186.8,57.20000076293945 183.771,57.371429443359375 180.743,57.5428581237793 177.714,57.71428680419922 174.686,57.88571548461914 171.657,58.05714416503906 168.629,58.228572845458984 165.6,58.400001525878906 162.571,58.57143020629883 159.543,58.74285888671875 156.514,58.914283752441406 154.914,60.514286041259766 154.743,63.54285430908203 154.571,66.57141876220703 154.4,69.60000610351562 154.229,72.62857818603516 154.057,75.65714263916016 153.886,78.68571472167969 153.714,81.71427917480469 153.543,84.74285125732422 153.371,87.77143096923828 153.2,90.80000305175781 153.029,93.82856750488281 152.857,96.85713958740234 152.686,99.88571166992188 152.514,102.91427612304688 152.343,105.94286346435547 152.171,108.971435546875 152,112 151.829,108.97142791748047 151.657,105.94286346435547 151.486,102.91427612304688 151.314,99.88571166992188 151.143,96.85713958740234 150.971,93.82857513427734 150.8,90.80000305175781 150.629,87.77143859863281 150.457,84.74285125732422 150.286,81.71427917480469 150.114,78.68571472167969 149.943,75.65715026855469 149.771,72.62857055664062 149.6,69.60000610351562 149.429,66.57144165039062 149.257,63.542869567871094 149.086,60.51429748535156 147.486,58.914283752441406 144.457,58.742855072021484 141.429,58.57142639160156 138.4,58.400001525878906 135.371,58.228572845458984 132.343,58.05714416503906 129.314,57.88571548461914 126.286,57.71428680419922 123.257,57.5428581237793 120.229,57.371429443359375 117.2,57.20000076293945 114.171,57.02857208251953 111.143,56.85714340209961 108.114,56.68571472167969 105.086,56.514286041259766 102.057,56.342857360839844 99.029,56.17142868041992 96,56 99.029,55.82857131958008 102.057,55.657142639160156 105.086,55.485713958740234 108.114,55.31428527832031 111.143,55.14285659790039 114.171,54.97142791748047 117.2,54.79999923706055 120.229,54.628570556640625 123.257,54.4571418762207 126.286,54.28571319580078 129.314,54.11428451538086 132.343,53.94285583496094 135.371,53.771427154541016 138.4,53.599998474121094 141.429,53.42857360839844 144.457,53.257144927978516 147.486,53.085716247558594 149.086,51.48569869995117 149.257,48.457130432128906 149.429,45.42856216430664 149.6,42.399993896484375 149.771,39.37142562866211 149.943,36.342857360839844 150.114,33.31428527832031 150.286,30.28571891784668 150.457,27.25714874267578 150.629,24.228578567504883 150.8,21.20001220703125 150.971,18.171443939208984 151.143,15.142845153808594 151.314,12.114276885986328 151.486,9.085708618164062 151.657,6.057136535644531 151.829,3.0285682678222656 152,0 ")

    useEffect

    useEffect(() => {
        if (clicked) {
            //const [$path1, $path2] = utils.$('polygon');
            //console.log(utils.$('polygon'));

            function animateRandomPoints() {
                //utils.set($path2, { points: generatePoints() });
                setPoints2(generatePoints())
            }
            animateRandomPoints()

            function generatePoints() {
                const total = utils.random(5, 20);
                const r1 = utils.random(5, 20);
                const r2 = 56;
                const isOdd = n => n % 2;
                let points = '';
                for (let i = 0, l = isOdd(total) ? total + 1 : total; i < l; i++) {
                    const r = isOdd(i) ? r1 : r2;
                    const a = (2 * Math.PI * i / l) - Math.PI / 2;
                    const x = 152 + utils.round(r * Math.cos(a), 0);
                    const y = 56 + utils.round(r * Math.sin(a), 0);
                    points += `${x},${y} `;
                }
                return points;
            }
        }
        setClicked(false)

    }, [clicked])

    return (
        <>
            <div className="grid_system">
                <div onMouseOver={() => { setClicked(true) }} className="grid_item item1"><h1>Portfolio</h1></div>
                <Icon points1={points1} points2={points2} />
            </div>
        </>
    )
}

export default GridSystem